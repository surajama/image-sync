<!-- chat.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
</head>
<body>
  <h3>LAN Chat 3</h3>
  <input id="msg" placeholder="Type a message..." />
  <button onclick="send()">Send</button>
  <pre id="log"></pre>

  <script>
    const ip = "wss://192.168.2.47:3000"; // Replace with host deviceâ€™s local IP
    const socket = new WebSocket(ip);
    const log = document.getElementById("log");

    socket.onmessage = async (e) => {
      const text = await e.data.text();  // Read Blob as text
      log.textContent += "\nPeer: " + text;
    };

    function send() {
      const msg = document.getElementById("msg").value;
      socket.send(msg);
      log.textContent += "\nYou: " + msg;
    }
  </script>
</body>
</html>
